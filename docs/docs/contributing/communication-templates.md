# Communication Strategy Templates

This document provides templates for communicating upstream merges, security updates, and breaking changes to stakeholders.

## Table of Contents

- [GitHub Issue Templates](#github-issue-templates)
- [Slack/Discord Notification Templates](#slackdiscord-notification-templates)
- [Email Templates](#email-templates)
- [Release Notes Templates](#release-notes-templates)
- [User-Facing Announcements](#user-facing-announcements)

---

## GitHub Issue Templates

### Upstream Merge Notification (Automated)

**Title:** `Upstream Changes Available: obot-platform/obot (vX.Y.Z)`

**Body:**
```markdown
## Upstream Changes Detected

üîÑ **New commits available from upstream:** obot-platform/obot

**Upstream version:** vX.Y.Z
**Commits behind:** 42 commits
**Commits ahead:** 15 commits (our custom changes)

### Quick Stats

- **Merge complexity:** MEDIUM
- **Estimated conflicts:** 3-5 files
- **Critical files affected:** Yes (see below)

### Files with Potential Conflicts

Based on divergence analysis:

- `Dockerfile` - Both sides modified (registry merge logic)
- `chart/values.yaml` - Both sides modified (configuration)
- `go.mod` / `go.sum` - Dependency updates

### Critical Files (Fork-Specific)

These files should be preserved:
- ‚úÖ `tools/entra-auth-provider/` - No conflicts
- ‚úÖ `tools/keycloak-auth-provider/` - No conflicts
- ‚úÖ `.github/workflows/docker-build-and-push.yml` - No conflicts

### Notable Upstream Changes

Based on commit messages:

- **Security:** CVE-XXXX-XXXX patched in database library
- **Features:** New MCP server catalog improvements
- **Bug fixes:** 12 bug fixes merged
- **Breaking changes:** ‚ö†Ô∏è API endpoint signature changes detected

### Recommended Actions

1. **Review upstream changes:** [Compare on GitHub](https://github.com/obot-platform/obot/compare/MERGE_BASE...main)
2. **Test merge:** Run `test-upstream-merge.yml` workflow
3. **Schedule merge window:** Recommended: [Date/Time]
4. **Notify team:** Use Slack template below

### Automated Test Results

üìä [Download merge test artifact](LINK_TO_ARTIFACT)

---

**Generated by upstream-sync-check workflow**
Last check: 2026-01-13 09:00 UTC
Next check: 2026-01-20 09:00 UTC

/cc @maintainer1 @maintainer2
```

### Manual Merge Conflict Resolution Issue

**Title:** `Upstream Merge Conflicts: Manual Resolution Required (vX.Y.Z)`

**Body:**
```markdown
## Merge Conflicts Detected

‚ö†Ô∏è **Automated merge test failed** - manual resolution required

**Upstream version:** vX.Y.Z
**Commits behind:** 42 commits
**Conflicting files:** 5 files

### Conflicting Files

| File | Conflict Type | Resolution Strategy |
|------|---------------|---------------------|
| `Dockerfile` | Both modified | Manual merge - preserve registry logic |
| `chart/values.yaml` | Both modified | Manual merge - review both changes |
| `pkg/server/server.go` | Both modified | Review carefully - may affect auth flow |
| `go.mod` | Dependency conflict | Accept theirs + run `make tidy` |
| `go.sum` | Dependency conflict | Regenerate with `make tidy` |

### Resolution Procedure

Follow the [upstream merge process](../upstream-merge-process.md):

1. **Prepare environment:**
   ```bash
   git fetch upstream
   git checkout -b merge/upstream-vX.Y.Z
   ```

1. **Attempt merge:**
   ```bash
   git merge --no-commit --no-ff upstream/main
   ```

2. **Resolve conflicts:**
   - `Dockerfile`: Use [registry merge strategy](./upstream-merge-process.md#build-infrastructure)
   - `chart/values.yaml`: Combine both changes, test with Helm
   - `pkg/server/server.go`: Review line-by-line, test auth providers
   - `go.mod/go.sum`: Run `git checkout --theirs go.* && make tidy`

3. **Verify custom files:**
   ```bash
   ./scripts/verify-custom-files.sh
   ```

4. **Build and test:**
   ```bash
   make build && make test && make lint
   docker build -t obot-entraid:test .
   ```

5. **Commit using template:**
   ```bash
   git config commit.template .gitmessage-merge
   git commit
   ```

### Risk Assessment

- üî¥ **HIGH RISK:** Auth provider integration may be affected
- üü° **MEDIUM RISK:** Configuration changes require testing
- üü¢ **LOW RISK:** Most conflicts are in expected locations

### Testing Checklist

Before merging:

- [ ] Auth providers build successfully
- [ ] Docker image builds with merged registry
- [ ] Helm chart validates (`helm lint chart/`)
- [ ] Go tests pass (`make test`)
- [ ] Linting passes (`make lint`)
- [ ] Manual test: Entra ID authentication flow
- [ ] Manual test: Keycloak authentication flow

### Rollback Plan

If merge causes issues:

```bash
# Abort merge if not committed
git merge --abort

# Revert merge if already committed
git revert -m 1 HEAD
git push origin main
```

---

**Assigned to:** @lead-maintainer
**Priority:** High (security patches included)
**Target completion:** Within 48 hours

/cc @team

---

## Slack/Discord Notification Templates

### Upstream Changes Available (Informational)

```markdown
üîÑ **Upstream Update Available**

New changes detected from `obot-platform/obot` (v0.15.2)

üìä **Stats:**
‚Ä¢ Behind: 42 commits
‚Ä¢ Ahead: 15 commits (our custom work)
‚Ä¢ Conflicts: MEDIUM (3-5 files expected)

üîó **Details:** [GitHub Issue #123](LINK_TO_ISSUE)

‚è∞ **Proposed merge window:** Saturday, Jan 20 at 10:00 AM UTC

üí¨ **Questions?** Thread below or ping @maintainers
```

### Merge Conflict Alert (Action Required)

```markdown
‚ö†Ô∏è **ACTION REQUIRED: Upstream Merge Conflicts**

Automated merge failed for `obot-platform/obot` v0.15.2

üî¥ **Conflicts in:**
‚Ä¢ `Dockerfile` (registry logic)
‚Ä¢ `pkg/server/server.go` (may affect auth)
‚Ä¢ `chart/values.yaml` (config changes)

üìã **Resolution needed:** [GitHub Issue #124](LINK_TO_ISSUE)

üë§ **Assigned:** @lead-maintainer
‚è±Ô∏è **Priority:** HIGH (includes security patches)

üÜò **Help needed?** Let us know in thread
```

### Merge Completed (Success)

```markdown
‚úÖ **Upstream Merge Complete**

Successfully merged `obot-platform/obot` v0.15.2

üéâ **New features:**
‚Ä¢ Improved MCP server catalog
‚Ä¢ Enhanced Kubernetes support
‚Ä¢ 12 bug fixes

üîê **Security:**
‚Ä¢ CVE-2024-XXXX patched
‚Ä¢ Updated dependencies

üß™ **Verified:**
‚Ä¢ All auth providers working
‚Ä¢ Docker build successful
‚Ä¢ Tests passing

üì¶ **Deployment:**
‚Ä¢ Docker image: `ghcr.io/jrmatherly/obot-entraid:v0.15.2-entraid.1`
‚Ä¢ Helm chart: `chart/obot-entraid-0.15.2+1`

üîó **Release notes:** [GitHub Release](LINK_TO_RELEASE)

Questions? Thread below! üßµ
```

### Breaking Change Alert

```markdown
üö® **BREAKING CHANGE: Upstream Merge**

Merged `obot-platform/obot` v0.16.0 includes breaking changes

‚ö†Ô∏è **What changed:**
‚Ä¢ API endpoint `/v1/auth/profile` ‚Üí `/v2/auth/user/profile`
‚Ä¢ Environment variable: `OBOT_AUTH_SECRET` ‚Üí `OBOT_AUTH_COOKIE_SECRET`
‚Ä¢ Helm chart value: `auth.secret` ‚Üí `auth.cookieSecret`

üìù **Migration required:**
1. Update environment variables (see migration guide)
2. Update Helm values if using chart
3. Update any direct API clients

üìñ **Migration guide:** [docs/migration/v0.16.0.md](LINK)

‚è∞ **Action required by:** Jan 25, 2026

üÜò **Need help?** Ping @maintainers
```

---

## Email Templates

### Upstream Merge Planned (Advance Notice)

**Subject:** Scheduled Maintenance: Upstream Merge (obot-platform/obot v0.15.2)

**Body:**
```
Hello obot-entraid Users,

We're planning to merge the latest changes from upstream obot-platform/obot (version 0.15.2) this weekend.

SCHEDULED MAINTENANCE WINDOW:
Date: Saturday, January 20, 2026
Time: 10:00 AM - 12:00 PM UTC
Expected downtime: None (rolling update)

WHAT'S CHANGING:
‚Ä¢ Security patches (CVE-2024-XXXX)
‚Ä¢ New MCP server catalog features
‚Ä¢ Performance improvements
‚Ä¢ 12 bug fixes

IMPACT ON YOUR DEPLOYMENT:
‚Ä¢ Entra ID authentication: No changes
‚Ä¢ Keycloak authentication: No changes
‚Ä¢ Configuration: No action required
‚Ä¢ API compatibility: Fully backward compatible

WHAT YOU NEED TO DO:
‚úÖ Nothing! This is a routine maintenance update.

If you're running a self-hosted deployment:
1. Pull the latest image after Jan 20, 12:00 PM UTC
2. Update Helm chart to v0.15.2-entraid.1 (optional)

QUESTIONS?
Reply to this email or open a GitHub Discussion:
https://github.com/jrmatherly/obot-entraid/discussions

Thank you,
The obot-entraid Team
```

### Breaking Change Announcement

**Subject:** üö® ACTION REQUIRED: Breaking Changes in v0.16.0

**Body:**
```
Hello obot-entraid Users,

IMPORTANT: The upcoming v0.16.0 release includes breaking changes that require action.

BREAKING CHANGES:

1. Environment Variable Renamed:
   OLD: OBOT_AUTH_SECRET
   NEW: OBOT_AUTH_COOKIE_SECRET

2. API Endpoint Changed:
   OLD: /v1/auth/profile
   NEW: /v2/auth/user/profile

3. Helm Chart Values Updated:
   OLD: auth.secret
   NEW: auth.cookieSecret

MIGRATION DEADLINE:
Please update your configuration by: January 25, 2026

MIGRATION STEPS:

For Docker deployments:
1. Update docker-compose.yml or deployment manifest
2. Change OBOT_AUTH_SECRET ‚Üí OBOT_AUTH_COOKIE_SECRET
3. Restart containers

For Kubernetes/Helm:
1. Update values.yaml: auth.secret ‚Üí auth.cookieSecret
2. Run: helm upgrade obot-entraid chart/ -f values.yaml
3. Verify pods restart successfully

For API clients (if any):
1. Update endpoint calls to use /v2/auth/user/profile
2. Test authentication flow
3. Deploy updated clients

FULL MIGRATION GUIDE:
https://github.com/jrmatherly/obot-entraid/blob/main/docs/migration/v0.16.0.md

BACKWARD COMPATIBILITY:
The old environment variable will work until v0.17.0 (deprecation warning will be logged).
The old API endpoint will return 301 redirect until v0.17.0.

NEED HELP?
‚Ä¢ Open a GitHub Issue: https://github.com/jrmatherly/obot-entraid/issues
‚Ä¢ GitHub Discussions: https://github.com/jrmatherly/obot-entraid/discussions
‚Ä¢ Reply to this email

We apologize for any inconvenience. These changes improve security and align with upstream conventions.

Thank you,
The obot-entraid Team
```

---

## Release Notes Templates

### Standard Upstream Merge Release

**Title:** Release v0.15.2-entraid.1

**Body:**
```markdown
# obot-entraid v0.15.2-entraid.1

This release merges upstream changes from [obot-platform/obot v0.15.2](https://github.com/obot-platform/obot/releases/tag/v0.15.2) while preserving our custom Entra ID and Keycloak authentication providers.

## Upstream Changes

### Security Fixes
- üîê Patched CVE-2024-XXXX in PostgreSQL driver
- üîê Updated vulnerable dependencies (see full list below)

### New Features
- ‚ú® Improved MCP server catalog UI
- ‚ú® Enhanced Kubernetes operator capabilities
- ‚ú® Support for composite MCP servers

### Bug Fixes
- üêõ Fixed token refresh race condition
- üêõ Corrected profile picture caching issues
- üêõ Resolved Helm chart value validation errors

Full upstream changelog: https://github.com/obot-platform/obot/releases/tag/v0.15.2

## Fork-Specific Changes

### Authentication Providers (Unchanged)
- ‚úÖ Entra ID authentication provider intact
- ‚úÖ Keycloak authentication provider intact
- ‚úÖ Profile picture handling preserved

### Custom Workflows
- ‚úÖ GitHub Container Registry publishing maintained
- ‚úÖ Fork-specific CI/CD preserved

### Configuration
- ‚úÖ Custom Helm chart values intact
- ‚úÖ Tool registry merge successful

## Compatibility

- **API:** Fully backward compatible
- **Configuration:** No changes required
- **Database:** No migrations required
- **Kubernetes:** Compatible with v1.25+ (unchanged)

## Docker Images

    ```bash
    # Pull the latest image
    docker pull ghcr.io/jrmatherly/obot-entraid:v0.15.2-entraid.1

    # Or with specific tags
    docker pull ghcr.io/jrmatherly/obot-entraid:latest
    docker pull ghcr.io/jrmatherly/obot-entraid:0.15.2-entraid.1
    ```

## Helm Chart

    ```bash
    # Update Helm chart
    helm repo update
    helm upgrade obot-entraid jrmatherly/obot-entraid --version 0.15.2-entraid.1
    ```

## Verification

**Before deploying:**

    ```bash
    # Verify auth providers are included
    docker run --rm ghcr.io/jrmatherly/obot-entraid:v0.15.2-entraid.1 ls -la /obot-tools/tools/

    # Check tool registry
    docker run --rm ghcr.io/jrmatherly/obot-entraid:v0.15.2-entraid.1 cat /obot-tools/tools/index.yaml | grep -E "(entra|keycloak)"
    ```

## Upgrade Notes

No special upgrade steps required. This is a drop-in replacement for v0.15.1-entraid.1.

## What's Next

- Monitoring upstream for v0.16.0 release
- Evaluating additional authentication provider support (LDAP, SAML)
- Improving automated merge testing

## Full Changelog

**Commits since v0.15.1-entraid.1:**
- chore: merge upstream obot-platform/obot v0.15.2 (42 commits)
- fix: resolve Dockerfile registry merge conflicts
- test: verify custom auth provider integrity

**Contributors:**
- @jrmatherly
- Upstream obot-platform/obot team

---

**Verified:**
- ‚úÖ Build successful
- ‚úÖ Tests passing
- ‚úÖ Linting clean
- ‚úÖ Docker image published
- ‚úÖ Helm chart updated
- ‚úÖ Custom files preserved

ü§ñ **Generated with [Claude Code](https://claude.com/claude-code)**
```

### Breaking Change Release

**Title:** Release v0.16.0-entraid.1 (‚ö†Ô∏è Breaking Changes)

**Body:**
```markdown
# obot-entraid v0.16.0-entraid.1

‚ö†Ô∏è **This release includes breaking changes.** Please review the migration guide below.

## BREAKING CHANGES

### 1. Environment Variable Renamed

**Before:**
```bash
OBOT_AUTH_SECRET=your-secret-here
```

**After:**
```bash
OBOT_AUTH_COOKIE_SECRET=your-secret-here
```

**Migration:** Update your environment variable configuration. The old variable will work with a deprecation warning until v0.17.0.

### 2. API Endpoint Changed

**Before:**
```
GET /v1/auth/profile
```

**After:**
```
GET /v2/auth/user/profile
```

**Migration:** Update any direct API clients. The old endpoint returns a 301 redirect until v0.17.0.

### 3. Helm Chart Values Updated

**Before:**
```yaml
auth:
  secret: "your-secret"
```

**After:**
```yaml
auth:
  cookieSecret: "your-secret"
```

**Migration:** Update your `values.yaml` file.

## Migration Guide

### For Docker Deployments

**docker-compose.yml:**
```yaml
# Before
environment:
  - OBOT_AUTH_SECRET=your-secret

# After
environment:
  - OBOT_AUTH_COOKIE_SECRET=your-secret
```

**Restart:**
```bash
docker-compose down
docker-compose up -d
```

### For Kubernetes/Helm

**Update values.yaml:**
```yaml
# Before
auth:
  secret: "your-secret"

# After
auth:
  cookieSecret: "your-secret"
```

**Upgrade:**
```bash
helm upgrade obot-entraid jrmatherly/obot-entraid \
  --version 0.16.0-entraid.1 \
  -f values.yaml
```

### For API Clients

If you have custom API clients:

```javascript
// Before
fetch('/v1/auth/profile')

// After
fetch('/v2/auth/user/profile')
```

## Upstream Changes

This release merges [obot-platform/obot v0.16.0](https://github.com/obot-platform/obot/releases/tag/v0.16.0).

### New Features
- ‚ú® Improved authentication token management (reason for breaking changes)
- ‚ú® Enhanced security for cookie-based authentication
- ‚ú® New user profile API with additional fields

### Bug Fixes
- üêõ Fixed session expiration edge cases
- üêõ Corrected profile picture caching behavior

Full upstream changelog: https://github.com/obot-platform/obot/releases/tag/v0.16.0

## Fork-Specific Changes

- ‚úÖ Entra ID authentication provider updated for new auth flow
- ‚úÖ Keycloak authentication provider updated for new auth flow
- ‚úÖ Profile picture handling adapted to new API

## Backward Compatibility

**Deprecation Timeline:**

| Feature | v0.16.0 | v0.17.0 | v0.18.0+ |
| --------- | --------- | --------- | ---------- |
| `OBOT_AUTH_SECRET` | ‚ö†Ô∏è Deprecated (works) | ‚ö†Ô∏è Deprecated (works) | ‚ùå Removed |
| `/v1/auth/profile` | ‚Ü™Ô∏è 301 Redirect | ‚Ü™Ô∏è 301 Redirect | ‚ùå 404 Not Found |
| `auth.secret` (Helm) | ‚ö†Ô∏è Deprecated (works) | ‚ö†Ô∏è Deprecated (works) | ‚ùå Removed |

**Recommendation:** Migrate before v0.17.0 (estimated: March 2026).

## Need Help?

- üìñ [Documentation](https://github.com/jrmatherly/obot-entraid/tree/main/docs)
- üí¨ [GitHub Discussions](https://github.com/jrmatherly/obot-entraid/discussions)
- üêõ [Report Issues](https://github.com/jrmatherly/obot-entraid/issues)

## Verification

```bash
# Check environment variable (should see deprecation warning if using old name)
docker logs obot-entraid-container | grep -i deprecated

# Test new API endpoint
curl -H "Authorization: Bearer $TOKEN" https://your-obot-instance.com/v2/auth/user/profile
```

---

**‚ö†Ô∏è Action Required:** Please migrate your configuration within 30 days.

ü§ñ **Generated with [Claude Code](https://claude.com/claude-code)**

---

## User-Facing Announcements

### Blog Post Template (Major Upstream Merge)

**Title:** "What's New in obot-entraid v0.15.2: Upstream Improvements & Security Patches"

**Body:**
```markdown
# What's New in obot-entraid v0.15.2

We're excited to announce obot-entraid v0.15.2-entraid.1, which merges the latest improvements from upstream [obot-platform/obot](https://github.com/obot-platform/obot) while maintaining our custom Entra ID and Keycloak authentication providers.

## Highlights

### üîê Security First

This release includes critical security patches:

- **CVE-2024-XXXX** fixed in PostgreSQL driver
- Updated 15 dependencies with known vulnerabilities
- Enhanced authentication token validation

**We strongly recommend upgrading as soon as possible.**

### ‚ú® New Features from Upstream

**Improved MCP Server Catalog**

The MCP server catalog UI has been redesigned for easier discovery and management of MCP servers. You'll notice:

- Better search and filtering
- Visual indicators for server health
- Easier configuration of server credentials

**Enhanced Kubernetes Support**

For Kubernetes users, this release brings:

- Improved operator stability
- Better resource management
- Support for Kubernetes 1.28+

**Composite MCP Servers**

You can now create composite MCP servers that combine tools from multiple sources. This is powerful for creating custom tool sets tailored to specific workflows.

### ‚úÖ Your Auth Providers Are Safe

All our custom authentication providers are intact:

- **Entra ID (Microsoft Entra)** - Fully functional, including profile pictures
- **Keycloak** - Works with all OpenID Connect features

We've verified both providers work correctly with the new authentication improvements from upstream.

## Upgrading

### Docker Users

```bash
# Pull the latest image
docker pull ghcr.io/jrmatherly/obot-entraid:latest

# Restart your container
docker-compose down && docker-compose up -d
```

### Kubernetes/Helm Users

```bash
# Update the Helm chart
helm repo update
helm upgrade obot-entraid jrmatherly/obot-entraid --version 0.15.2-entraid.1
```

### No Configuration Changes Required

This is a drop-in replacement. No environment variables, configuration files, or database migrations needed.

## What's Next?

We're actively monitoring upstream development and planning:

- **Additional auth providers**: LDAP and SAML support
- **Improved automation**: Faster upstream merge cycles
- **Better documentation**: More examples and tutorials

## Questions?

- üìñ [Full release notes](https://github.com/jrmatherly/obot-entraid/releases/tag/v0.15.2-entraid.1)
- üí¨ [GitHub Discussions](https://github.com/jrmatherly/obot-entraid/discussions)
- üêõ [Report issues](https://github.com/jrmatherly/obot-entraid/issues)

Happy automating! ü§ñ
```

### Documentation Update Announcement

**Title:** "New: Comprehensive Fork Workflow Documentation"

**Location:** GitHub Discussions, Slack, Email

**Body:**
```markdown
# üìö New Documentation: Fork Workflow & Contributor Guide

We've published comprehensive documentation for contributors and maintainers:

## New Resources

### [Fork Workflow Analysis](../fork-workflow-analysis-2026.md)
Deep dive into our upstream merge strategy, including:
- ‚ú® Visual workflow diagrams (Mermaid)
- üìä Cost analysis for GitHub Actions automation
- üîß Detailed troubleshooting guide
- üìñ Versioning strategy for fork releases

### [Contributor Guide](../contributor-guide.md)
Everything you need to contribute:
- üöÄ Quick start for new contributors
- üîÄ Feature branch workflow
- ‚úÖ Testing and code quality standards
- üîê Authentication provider development guide

### [Communication Templates](../communication-templates.md)
Standardized templates for:
- GitHub issue notifications
- Slack/Discord alerts
- Email announcements
- Release notes

## Why This Matters

**For Contributors:**
- Clear guidelines for submitting PRs
- Easier onboarding for new team members
- Transparent process for code reviews

**For Maintainers:**
- Automated upstream monitoring
- Structured conflict resolution strategies
- Consistent communication with users

## What's Different?

We've adopted a **pragmatic hybrid workflow**:
- Merge-based upstream synchronization (safer for our complex fork)
- Feature branches with rebase for new development (cleaner history)
- Automated testing and verification

This balances upstream compatibility with fork stability.

## Get Involved

Want to contribute?
1. Read the [Contributor Guide](../contributor-guide.md)
2. Check [open issues](https://github.com/jrmatherly/obot-entraid/issues)
3. Join our [GitHub Discussions](https://github.com/jrmatherly/obot-entraid/discussions)

## Feedback Welcome

These docs are living resources. If you find:
- ‚ùì Unclear instructions
- üêõ Outdated information
- üí° Missing content

Please open an issue or discussion!

---

ü§ñ **Generated with [Claude Code](https://claude.com/claude-code)**
```

---

## Automation Integration

### Slack Webhook Integration

Add to `.github/workflows/upstream-sync-check.yml`:

```yaml
- name: Notify Slack
  if: steps.check.outputs.commits_behind != '0'
  uses: slackapi/slack-github-action@v1.26.0
  with:
    webhook: ${{ secrets.SLACK_WEBHOOK_URL }}
    webhook-type: incoming-webhook
    payload: |
      {
        "text": "üîÑ *Upstream Update Available*",
        "blocks": [
          {
            "type": "section",
            "text": {
              "type": "mrkdwn",
              "text": "New changes detected from `obot-platform/obot`"
            }
          },
          {
            "type": "section",
            "fields": [
              {
                "type": "mrkdwn",
                "text": "*Behind:* ${{ steps.check.outputs.commits_behind }} commits"
              },
              {
                "type": "mrkdwn",
                "text": "*Ahead:* ${{ steps.check.outputs.commits_ahead }} commits"
              }
            ]
          },
          {
            "type": "actions",
            "elements": [
              {
                "type": "button",
                "text": {
                  "type": "plain_text",
                  "text": "View Issue"
                },
                "url": "${{ steps.create_issue.outputs.html_url }}"
              }
            ]
          }
        ]
      }
```

### Discord Webhook Integration

Add to `.github/workflows/upstream-sync-check.yml`:

```yaml
- name: Notify Discord
  if: steps.check.outputs.commits_behind != '0'
  uses: sarisia/actions-status-discord@v1
  with:
    webhook: ${{ secrets.DISCORD_WEBHOOK_URL }}
    title: "Upstream Update Available"
    description: |
      New changes detected from obot-platform/obot
      
      **Behind:** ${{ steps.check.outputs.commits_behind }} commits
      **Ahead:** ${{ steps.check.outputs.commits_ahead }} commits
      
      [View Issue](${{ steps.create_issue.outputs.html_url }})
    color: 0x3498db
    username: "obot-entraid Bot"
```

---

## Best Practices

### Timing Considerations

**Notify Early:**
- Send notifications as soon as upstream changes are detected
- Give team time to plan merge window (3-7 days advance notice)

**Batch Updates:**
- Group minor upstream updates (wait for several commits)
- Immediate notification for security patches

**Time Zone Awareness:**
- Schedule merges during low-traffic periods
- Consider global user base (prefer weekends for major changes)

### Audience Segmentation

**Maintainers:**
- Technical details
- GitHub issues with full context
- Slack/Discord for real-time coordination

**Contributors:**
- High-level summaries
- Focus on how to help
- GitHub Discussions for async coordination

**Users:**
- Impact-focused messaging
- What changed and why they care
- Clear action items (if any)

### Tone Guidelines

**Routine Updates:**
- Positive, informative
- Celebrate improvements
- "We're excited to announce..."

**Breaking Changes:**
- Apologetic, supportive
- Clear migration path
- "We apologize for the inconvenience..."

**Security Issues:**
- Urgent but not alarmist
- Emphasize action required
- "We strongly recommend upgrading..."

---

## Template Customization

All templates in this document are starting points. Customize based on:

- Your team's communication style
- Your users' technical level
- Your organization's notification policies
- Available communication channels

**Remember:** Clear, timely communication builds trust and makes maintenance easier!

---

**Document Version:** 1.0
**Last Updated:** January 13, 2026
**Maintained By:** obot-entraid Team
