# replicaCount -- The number of Obot server instances to run
replicaCount: 1

image:
  # image.repository -- The name of the docker repository for Obot. `ghcr.io/obot-platform/obot` for open-source or `ghcr.io/obot-platform/obot-enterprise` for enterprise.
  # Please note that for enterprise you will need to set an `imagePullSecret`
  repository: ghcr.io/obot-platform/obot-enterprise
  # image.tag -- The docker tag to pull for obot. If blank, will default to the chart appVersion
  tag: ""
  # image.pullPolicy -- Kubernetes image pullPolicy to use for Obot
  pullPolicy: IfNotPresent

# imagePullSecrets -- Configures kubernetes secrets to use for pulling private images
imagePullSecrets: [ ]

# updateStrategy -- Configures what update strategy to use for the deployment (Recreate or RollingUpdate)
updateStrategy: "RollingUpdate"

service:
  # service.type -- Type of Kubernetes service to create
  type: ClusterIP
  # service.port -- Port for the Kubernetes service to expose
  port: 80
  # service.annotations -- Extra annotations to add to service object
  annotations: { }
  # service.spec -- Any extra fields to add to the service object spec
  spec: { }

ingress:
  # ingress.enabled -- Enables ingress creation for Obot.
  enabled: false
  # ingress.annotations -- Configure annotations to add to the ingress object
  annotations: { }
  # kubernetes.io/ingress.class: nginx
  # kubernetes.io/tls-acme: "true"
  # ingress.className -- Configures a preexisting ingress class to use.
  className: ~
  # className: obot
  paths:
    - path: /
      pathType: Prefix
  # ingress.extraPaths -- Define complete path objects, will be inserted before regular paths. Can be useful for things like ALB Ingress Controller actions
  extraPaths: [ ]
  # ingress.hosts -- List of hostnames to configure the ingress with
  hosts: [ ]
  # - chart-example.local
  # ingress.tls -- List of secrets used to configure TLS for the ingress.
  tls: [ ]
  #  - secretName: chart-example-tls
  #    hosts:
  #      - chart-example.local

# config - A key/value object containing configuration variables to configure on the obot deployment. Will be converted to a secret and used via envFrom.
config:
  # config.existingSecret -- The name of an existing secret to use for config instead of creating a new one. Must contain keys in env format, just like below.
  existingSecret: ""

  # config.AWS_ACCESS_KEY_ID -- An AWS access key with permissions for AWS KMS, used for encryption
  AWS_ACCESS_KEY_ID: ""
  # config.AWS_REGION -- An AWS region, used to access AWS KMS
  AWS_REGION: ""
  # config.AWS_SECRET_ACCESS_KEY -- An AWS secret access key with permissions for AWS KMS, used for encryption
  AWS_SECRET_ACCESS_KEY: ""

  # config.OBOT_GCP_KMS_KEY_URI -- The URI of a Google Cloud KMS key, used for encryption
  OBOT_GCP_KMS_KEY_URI: ""

  # config.NAH_THREADINESS -- Advanced - sets the number of concurrent threads that can run in the Obot controller
  NAH_THREADINESS: "10000"
  # config.OBOT_SERVER_KNOWLEDGE_FILE_WORKERS -- Advanced - sets the number of workers for knowledge
  OBOT_SERVER_KNOWLEDGE_FILE_WORKERS: "5"

  # config.KINM_DB_CONNECTIONS -- Advanced - the number of connections in the database pool for kinm
  KINM_DB_CONNECTIONS: "5"

  # config.OBOT_SERVER_IGNORE_INACTIVE -- whether the controller processes objects that have been marked as inactive
  OBOT_SERVER_IGNORE_INACTIVE: false

  # config.GITHUB_AUTH_TOKEN -- A github PAT, used to authenticate tool pulls to avoid github ratelimiting
  GITHUB_AUTH_TOKEN: ""
  # config.OBOT_SERVER_ENABLE_AUTHENTICATION -- Enables authentication for Obot
  OBOT_SERVER_ENABLE_AUTHENTICATION: true
  # config.OBOT_SERVER_ENCRYPTION_PROVIDER -- Configures an encryption provider for credentials in Obot
  OBOT_SERVER_ENCRYPTION_PROVIDER: "" # "AWS", "GCP"
  # config.OBOT_BOOTSTRAP_TOKEN -- Sets a bootstrap token. If authentication is enabled, one will be autogenerated for you if this is not set.
  OBOT_BOOTSTRAP_TOKEN: ""
  # config.OBOT_SERVER_AUTH_ADMIN_EMAILS -- A comma separated list of email addresses that will have the Admin role in Obot.
  OBOT_SERVER_AUTH_ADMIN_EMAILS: ""
  # config.OBOT_SERVER_DSN -- The DSN for your database. For example: postgres://<username>:<password>@<hostname>/<db_name>
  OBOT_SERVER_DSN: ""
  # config.OBOT_SERVER_HOSTNAME -- The hostname of your Obot instance, including protocol
  OBOT_SERVER_HOSTNAME: ""
  # config.OBOT_WORKSPACE_PROVIDER_TYPE -- Configures the storage backend for workspaces in Obot. Can be 's3' or 'directory'
  OBOT_WORKSPACE_PROVIDER_TYPE: "directory"
  # config.OPENAI_API_KEY -- An OpenAI API Key used to configure access to OpenAI models, which are the default in Obot.
  OPENAI_API_KEY: ""
  # config.WORKSPACE_PROVIDER_S3_BASE_ENDPOINT -- If config.OBOT_WORKSPACE_PROVIDER_TYPE is 's3' and you are not using AWS S3, this needs to be set to the S3 api endpoint of your provider.
  WORKSPACE_PROVIDER_S3_BASE_ENDPOINT: ""
  # config.WORKSPACE_PROVIDER_S3_BUCKET -- The name of the S3 bucket to store workspaces in. Only used if config.OBOT_WORKSPACE_PROVIDER_TYPE is 's3'
  WORKSPACE_PROVIDER_S3_BUCKET: ""
  # config.GEMINI_API_KEY -- A Google Gemini API Key used to configure access to the Gemini Developer API. This is used to generate images for Obots.
  GEMINI_API_KEY: ""
  # config.WORKSPACE_PROVIDER_AZURE_CONTAINER -- The name of the Azure Blob Storage container to store workspaces in. Only used if config.OBOT_WORKSPACE_PROVIDER_TYPE is 'azure'
  WORKSPACE_PROVIDER_AZURE_CONTAINER: ""
  # config.WORKSPACE_PROVIDER_AZURE_CONNECTION_STRING -- The connection string for the Azure Blob Storage container to store workspaces in. Only used if config.OBOT_WORKSPACE_PROVIDER_TYPE is 'azure'
  WORKSPACE_PROVIDER_AZURE_CONNECTION_STRING: ""
  # config.OBOT_SERVER_OTEL_BASE_EXPORT_ENDPOINT -- The base export endpoint for OpenTelemetry
  OBOT_SERVER_OTEL_BASE_EXPORT_ENDPOINT: ""
  # config.OBOT_SERVER_OTEL_SAMPLE_PROB -- The sampling probability for OpenTelemetry
  OBOT_SERVER_OTEL_SAMPLE_PROB: ""
  # config.OBOT_SERVER_OTEL_BEARER_TOKEN -- The bearer token for authentication with OpenTelemetry
  OBOT_SERVER_OTEL_BEARER_TOKEN: ""


# extraEnv -- A map of additional environment variables to set
extraEnv: { }

# resources -- Resource requests and limits to use for Obot
resources: { }

persistence:
  # persistence.enabled -- Enables persistence of workspaces using a PVC when config.OBOT_WORKSPACE_PROVIDER_TYPE is `directory`
  enabled: true
  # persistence.path -- The path the volume will be mounted
  path: /data
  # persistence.storageClass -- Persistent Volume storage class
  # If defined, storageClassName: <storageClass>
  # If set to "-", storageClassName: "", which disables dynamic provisioning
  # If undefined (the default) or set to null, no storageClassName spec is set, choosing the default provisioner
  storageClass: ""
  # persistence.accessModes -- Persistent Volume access modes
  accessModes:
    - ReadWriteOnce
  # persistence.size --e Persistent Volume size
  size: 8Gi
  existingClaim: ""

serviceAccount:
  # serviceAccount.create - Specifies whether a service account should be created
  create: false
  # serviceAccount.annotation - Annotations to add to the service account
  annotations: { }
  # serviceAccount.name - The name of the service account to use.
  # If not set and create is true, a name is generated using the fullname template
  name: ""
